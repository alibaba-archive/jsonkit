/**
 * jsonkit: v0.2.3
 * https://github.com/teambition/jsonkit
 */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=b():"function"==typeof define&&define.amd?define([],b):a.JSONKit=b()}(this,function(){"use strict";function a(a){return"[object Object]"===r.call(a)}function b(a){if(!a)return!0;for(var b in a)return!s.call(a,b);return!0}function c(a,b,c,d,e){var f,g,h;if(a)if(null==d&&(d=t(a)),d){if(e){for(f=a.length-1;f>=0;f--)if(b.call(c,a[f],f,a)===o)return}else for(f=0,g=a.length;g>f;f++)if(b.call(c,a[f],f,a)===o)return}else for(h in a)if(s.call(a,h)&&b.call(c,a[h],h,a)===o)return}function d(b){var c=typeof b;return b&&"object"===c?t(b)?p:a(b)?q:b.toString():"function"===c?b.toString():b}function e(a){var b=arguments[1],c=d(a);if(c!==p&&c!==q)throw new Error("Not a array or object.");1===arguments.length&&(b=a,a=c===p?[]:{}),f(a,b,c,n);for(var e=2,g=arguments.length;g>e;e++)f(a,arguments[e],c,n);return a}function f(a,b,e,g){if(--g<=0)throw new Error("Maximum structure depth exceeded.");return a===b||e!==d(b)?a:(c(b,function(b,c){var e=d(b);e===p||e===q?(e!==d(a[c])&&(a[c]=e===p?[]:{}),f(a[c],b,e,g)):a[c]=e},null,e===p),a)}function g(a){var b=d(a);if(b!==p&&b!==q)throw new Error("Not a array or object.");if(arguments.length<2)throw new Error("Must have 2 arguments or more.");for(var c=1,e=arguments.length;e>c;c++){if(b!==d(arguments[c]))throw new Error("Arguments's type must be consistent.");h(a,arguments[c],b,n)}return a}function h(a,f,g,i){if(--i<=0)throw new Error("Maximum structure depth exceeded.");if(a===f)return a;if(b(a))return e(a,f);if(g===p&&1===a.length){if(null===a[0])return e(a,f);var j=a[0],k=d(j),l=typeof j;a.length=0,c(f,function(b){if(l===typeof b){var c=d(b);return c!==p&&c!==q?a.push(c):void(c===k&&a.push(h(e(j),b,c,i)))}},null,!0)}else c(a,function(b,c){if(!s.call(f,c)||null!==b&&typeof b!=typeof f[c])return void(g===p?a[c]=null:delete a[c]);var j=d(f[c]);return j!==p&&j!==q?void(a[c]=j):null===b?void(a[c]=e(f[c])):j!==d(b)?void(g===p?a[c]=null:delete a[c]):void h(b,f[c],j,i)},null,g===p);return a}function i(a,b,c){if(a===b)return!0;var e=d(a);return e!==d(b)?!1:e===p||e===q?j(a,b,e,c>0?c:n):!0}function j(a,b,d,e){if(--e<=0)throw new Error("Maximum structure depth exceeded.");var f=!0;return d===p&&a.length!==b.length?!1:d===q&&a.prototype!==b.prototype?!1:(c(a,function(a,c){return s.call(b,c)?void 0:(f=!1,o)},null,!1),f&&c(b,function(b,c){return i(b,a[c],e)?void 0:(f=!1,o)},null,!1),f)}function k(a,b,d){var e,f=0;return e="function"==typeof b?b:function(a){return b===a},d||t(a)?c(a,function(b,c){e(b,c)&&(a.splice(c,1),f+=1)},null,!0,!0):c(a,function(b,c){e(b,c)&&(delete a[c],f+=1)}),f}function l(a,b,d){var e;return c(a,function(c,d){return b(c,d,a)===!0?(e=c,o):void 0},null,d),e}function m(a){var b={};return t(a)?(c(a,function(c,d){var e=typeof c+c;b[e]?a[d]=o:b[e]=!0},null,!0),k(a,o,!0),a):a}var n=20,o={},p=[],q={},r=Object.prototype.toString,s=Object.prototype.hasOwnProperty,t=Array.isArray||function(a){return"[object Array]"===r.call(a)};return{NAME:"JSONKit",VERSION:"0.2.1",isEmpty:b,isEqual:i,isArray:t,isObject:a,each:c,union:e,intersect:g,findItem:l,removeItem:k,uniqueArray:m,setMaxDepth:function(a){return n=a>=5&&1e3>=a?+a:20}}});
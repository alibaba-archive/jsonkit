/**
 * jsonkit: v0.1.1
 * https://github.com/teambition/jsonkit
 */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=b():"function"==typeof define&&define.amd?define([],b):a.JSONKit=b()}(this,function(){"use strict";function a(a){return"[object Object]"===o.call(a)}function b(a){if(!a)return!0;for(var b in a)return!p.call(a,b);return!0}function c(a,b,c,d,e){var f,g,h;if(a)if(null==d&&(d=q(a)),d){if(e){for(f=a.length-1;f>=0;f--)if(b.call(c,a[f],f,a)===k)return}else for(f=0,g=a.length;g>f;f++)if(b.call(c,a[f],f,a)===k)return}else for(h in a)if(p.call(a,h)&&b.call(c,a[h],h,a)===k)return}function d(b){var c=typeof b;return"function"===c?b.toString():b&&"object"===c?q(b)?l:a(b)?m:b.toString():b}function e(a){var b=arguments[1],c=d(a);if(c!==l&&c!==m)throw new Error("Not a array or object.");1===arguments.length&&(b=a,a=new a.constructor),f(a,b,c,n);for(var e=2,g=arguments.length;g>e;e++)f(a,arguments[e],c,n);return a}function f(a,b,e,g){if(--g<=0)throw new Error("Maximum structure depth exceeded.");return a===b||e!==d(b)?a:(c(b,function(b,c){var e=d(b);e===l||e===m?(e!==d(a[c])&&(a[c]=new b.constructor),f(a[c],b,e,g)):a[c]=e},null,e===l),a)}function g(a){var b=d(a);if(b!==l&&b!==m)throw new Error("Not a array or object.");if(arguments.length<2)throw new Error("Must have 2 arguments or more.");for(var c=1,e=arguments.length;e>c;c++){if(b!==d(arguments[c]))throw new Error("Arguments's type must be consistent.");h(a,arguments[c],b,n)}return a}function h(a,f,g,i){if(--i<=0)throw new Error("Maximum structure depth exceeded.");if(a===f)return a;if(b(a))return e(a,f);if(g===l&&1===a.length){if(null===a[0])return e(a,f);var j=a[0],k=d(j),n=typeof j;a.length=0,c(f,function(b){if(n===typeof b){var c=d(b);return c!==l&&c!==m?a.push(c):void(c===k&&a.push(h(e(j),b,c,i)))}},null,!0)}else c(a,function(b,c){if(!p.call(f,c)||null!==b&&typeof b!=typeof f[c])return void(g===l?a[c]=null:delete a[c]);var j=d(f[c]);return j!==l&&j!==m?void(a[c]=j):null===b?void(a[c]=e(f[c])):j!==d(b)?void(g===l?a[c]=null:delete a[c]):void h(b,f[c],j,i)},null,g===l);return a}function i(a,b,d){var e=0;return d||q(a)?c(a,function(c,d){c===b&&(a.splice(d,1),e+=1)},null,!0,!0):c(a,function(c,d){c===b&&(delete a[d],e+=1)}),e}function j(a){var b={};return q(a)?(c(a,function(c,d){var e=typeof c+c;b[e]?a[d]=k:b[e]=!0},null,!0),i(a,k,!0),a):a}var k={},l={},m={},n=20,o=Object.prototype.toString,p=Object.prototype.hasOwnProperty,q=Array.isArray||function(a){return"[object Array]"===o.call(a)};return{NAME:"JSONKit",VERSION:"0.1.1",each:c,union:e,intersect:g,removeItem:i,uniqueArray:j,setMaxDepth:function(a){n=a>=5&&1e3>=a?+a:20}}});
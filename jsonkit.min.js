/**
 * jsonkit: v0.3.2
 * https://github.com/teambition/jsonkit
 */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=b():"function"==typeof define&&define.amd?define([],b):a.JSONKit=b()}("object"==typeof window?window:this,function(){"use strict";function a(a){return"[object Object]"===v.call(a)}function b(a){if(!a)return!0;for(var b in a)return!a.hasOwnProperty(b);return!0}function c(a,b,c,d,e){var f,g,h;if(a)if(null==d&&(d=w(a)),d){if(e){for(f=a.length-1;f>=0;f--)if(b.call(c,a[f],f,a)===s)return}else for(f=0,g=a.length;g>f;f++)if(b.call(c,a[f],f,a)===s)return}else for(h in a)if(a.hasOwnProperty(h)&&b.call(c,a[h],h,a)===s)return}function d(b){var c=typeof b;return b&&"object"===c?w(b)?t:a(b)?u:b.toString():"function"===c?b.toString():b}function e(a){var b=arguments[1],c=d(a);if(c!==t&&c!==u)throw new Error("Not a array or object.");1===arguments.length&&(b=a,a=c===t?[]:{}),f(a,b,c,r);for(var e=2,g=arguments.length;g>e;e++)f(a,arguments[e],c,r);return a}function f(a,b,e,g){if(--g<=0)throw new Error("Maximum structure depth exceeded.");return a===b||e!==d(b)?a:(c(b,function(b,c){var e=d(b);e===t||e===u?(e!==d(a[c])&&(a[c]=e===t?[]:{}),f(a[c],b,e,g)):a[c]=e},null,e===t),a)}function g(a){function b(b,c){a[c]=b}for(var d=w(a),e=1,f=arguments.length;f>e;e++)c(arguments[e],b,null,d);return a}function h(a){var b=d(a);if(b!==t&&b!==u)throw new Error("Not a array or object.");if(arguments.length<2)throw new Error("Must have 2 arguments or more.");for(var c=1,e=arguments.length;e>c;c++){if(b!==d(arguments[c]))throw new Error("Arguments's type must be consistent.");i(a,arguments[c],b,r)}return a}function i(a,f,g,h){if(--h<=0)throw new Error("Maximum structure depth exceeded.");if(a===f)return a;if(b(a))return e(a,f);if(g===t&&1===a.length){if(null===a[0])return e(a,f);var j=a[0],k=d(j),l=typeof j;a.length=0,c(f,function(b){if(l===typeof b){var c=d(b);return c!==t&&c!==u?a.push(c):void(c===k&&a.push(i(e(j),b,c,h)))}},null,!0)}else c(a,function(b,c){if(!f.hasOwnProperty(c)||null!==b&&typeof b!=typeof f[c])return void(g===t?a[c]=null:delete a[c]);var j=d(f[c]);return j!==t&&j!==u?void(a[c]=j):null===b?void(a[c]=e(f[c])):j!==d(b)?void(g===t?a[c]=null:delete a[c]):void i(b,f[c],j,h)},null,g===t);return a}function j(a,b,c){if(a===b)return!0;var e=d(a);return e!==d(b)?!1:e===t||e===u?k(a,b,e,c>0?c:r):!0}function k(a,b,d,e){if(--e<=0)throw new Error("Maximum structure depth exceeded.");var f=!0;return d===t&&a.length!==b.length?!1:d===u&&a.prototype!==b.prototype?!1:(c(a,function(a,c){return b.hasOwnProperty(c)?void 0:(f=!1,s)},null,!1),f&&c(b,function(b,c){return j(b,a[c],e)?void 0:(f=!1,s)},null,!1),f)}function l(a,b,d){var e,f=0;return e="function"==typeof b?b:function(a){return b===a},d||w(a)?c(a,function(b,c){e(b,c)&&(a.splice(c,1),f+=1)},null,!0,!0):c(a,function(b,c){e(b,c)&&(delete a[c],f+=1)}),f}function m(a,b,d){var e;return c(a,function(c,d){return b(c,d,a)===!0?(e=c,s):void 0},null,d),e}function n(a){var b={};return w(a)?(c(a,function(c,d){var e=typeof c+c;b[e]?a[d]=s:b[e]=!0},null,!0),l(a,s,!0),a):a}function o(a){try{return JSON.parse(a)}catch(b){}}function p(a){return null==a?"":String(a)}function q(a){return parseFloat(a)}var r=20,s={},t=[],u={},v=Object.prototype.toString,w=Array.isArray||function(a){return"[object Array]"===v.call(a)};return{NAME:"JSONKit",VERSION:"0.3.2",isEmpty:b,isEqual:j,isArray:w,isObject:a,toStr:p,toNum:q,each:c,union:e,extend:g,intersect:h,findItem:m,removeItem:l,uniqueArray:n,parseJSON:o,setMaxDepth:function(a){return r=a>=5&&1e3>=a?+a:20}}});